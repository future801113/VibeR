<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>VR Gallery - Meta Quest 2</title>
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/supermedium/superframe@master/components/environment/dist/aframe-environment-component.min.js"></script>
  </head>
  <body>
    <a-scene 
      vr-mode-ui="enabled: true" 
      embedded 
      style="height: 100vh; width: 100vw;"
      background="color: #212121"
      stats>
      
      <!-- 資產定義 -->
      <a-assets>
        <!-- 預設圖片 - 使用本地或穩定的圖片 -->
        <img id="placeholder" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTEyIiBoZWlnaHQ9IjUxMiIgdmlld0JveD0iMCAwIDUxMiA1MTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI1MTIiIGhlaWdodD0iNTEyIiBmaWxsPSIjNENBRjUwIi8+Cjx0ZXh0IHg9IjI1NiIgeT0iMjU2IiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMzIiIGZpbGw9IndoaXRlIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkeT0iLjNlbSI+VlIgR2FsbGVyeTwvdGV4dD4KPC9zdmc+" crossorigin="anonymous">
        
        <!-- 音效 -->
        <audio id="clickSound" preload="auto">
          <source src="data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+L" type="audio/wav">
        </audio>
      </a-assets>

      <!-- 環境設置 -->
      <a-entity 
        environment="preset: forest; groundColor: #445; grid: cross">
      </a-entity>

      <!-- 燈光 -->
      <a-light type="ambient" color="#404040" intensity="0.4"></a-light>
      <a-light type="directional" position="1 4 2" intensity="0.8"></a-light>

      <!-- 主畫廊空間 -->
      <a-entity id="gallery" position="0 1.6 0">
        
        <!-- 圖片框架 - 簡單排列 -->
        <a-entity id="image-frames">
          <!-- 前方圖片 -->
          <a-entity position="0 0 -3">
            <a-plane 
              width="2" 
              height="2" 
              src="#placeholder"
              class="gallery-image">
            </a-plane>
          </a-entity>

          <!-- 左側圖片 -->
          <a-entity position="-3 0 0" rotation="0 90 0">
            <a-plane 
              width="2" 
              height="2" 
              src="#placeholder"
              class="gallery-image">
            </a-plane>
          </a-entity>

          <!-- 右側圖片 -->
          <a-entity position="3 0 0" rotation="0 -90 0">
            <a-plane 
              width="2" 
              height="2" 
              src="#placeholder"
              class="gallery-image">
            </a-plane>
          </a-entity>

          <!-- 後方左側圖片 -->
          <a-entity position="-2 0 3" rotation="0 180 0">
            <a-plane 
              width="2" 
              height="2" 
              src="#placeholder"
              class="gallery-image">
            </a-plane>
          </a-entity>

          <!-- 後方右側圖片 -->
          <a-entity position="2 0 3" rotation="0 180 0">
            <a-plane 
              width="2" 
              height="2" 
              src="#placeholder"
              class="gallery-image">
            </a-plane>
          </a-entity>

          <!-- 上方圖片 -->
          <a-entity position="0 2 0" rotation="-90 0 0">
            <a-plane 
              width="2" 
              height="2" 
              src="#placeholder"
              class="gallery-image">
            </a-plane>
          </a-entity>
        </a-entity>
      </a-entity>

      <!-- 相機和控制器 -->
      <a-entity 
        id="cameraRig" 
        position="0 1.6 0">
        
        <!-- 相機 -->
        <a-camera 
          look-controls 
          wasd-controls
          cursor="rayOrigin: mouse">
        </a-camera>

        <!-- Quest 2 控制器 -->
        <a-entity 
          id="leftHand" 
          hand-controls="hand: left; handModelStyle: lowPoly; color: #ffcccc"
          laser-controls="hand: left"
          raycaster="objects: .gallery-image">
        </a-entity>
        
        <a-entity 
          id="rightHand" 
          hand-controls="hand: right; handModelStyle: lowPoly; color: #ccffcc" 
          laser-controls="hand: right"
          raycaster="objects: .gallery-image">
        </a-entity>
      </a-entity>

      <!-- 地板 -->
      <a-plane 
        position="0 0 0" 
        rotation="-90 0 0" 
        width="20" 
        height="20" 
        color="#333" 
        shadow>
      </a-plane>
    </a-scene>

    <script type="module" src="/main.js"></script>
  </body>
</html>
